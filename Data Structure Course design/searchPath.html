<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Search Path</title>
    
    <link rel="stylesheet" type="text/css" href="assets/waifu.css"/>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <style>
        html {
            background-color: #FFFFBF;
        }

        body {
            /*min-width: 1536px;*/
            background-color: #FFFFBF;
        }

        .button{
            display: block;
            *display: inline;
            zoom: 1;
            /*padding: 6px 20px;*/
            margin-bottom: 30px;
            cursor: pointer;
            border: 1px solid #bbb;
            overflow: visible;
            font: bold 13px arial, helvetica, sans-serif;
            text-decoration: none;
            white-space: nowrap;
            color: #555;
            padding: 12px 30px;
            text-transform: uppercase;

            background-color: #ddd;
            background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(255,255,255,1)), to(rgba(255,255,255,0)));
            background-image: -webkit-linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
            background-image: -moz-linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
            background-image: -ms-linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
            background-image: -o-linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
            background-image: linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
            transition: background-color .2s ease-out;
            background-clip: padding-box; /* Fix bleeding */
            border-radius: 3px;
            rgba(0, 0, 0, .5), 0 1px 0 rgba(255, 255, 255, .3) inset;
            box-shadow: 0 1px 0 rgba(0, 0, 0, .3), 0 2px 2px -1px rgba(0, 0, 0, .5), 0 1px 0 rgba(255, 255, 255, .3) inset;
            text-shadow: 0 1px 0 rgba(255,255,255, .9);
        }

        .button:hover{
            background-color: #eee;
            color: #555;
        }

        .button:active{
            background: #e9e9e9;
            position: relative;
            top: 1px;
            text-shadow: none;
            -moz-box-shadow: 0 1px 1px rgba(0, 0, 0, .3) inset;
            -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, .3) inset;
            box-shadow: 0 1px 1px rgba(0, 0, 0, .3) inset;
        }

        .button[disabled], .button[disabled]:hover, .button[disabled]:active{
            border-color: #eaeaea;
            background: #fafafa;
            cursor: default;
            position: static;
            color: #999;
            /* Usually, !important should be avoided but here it's really needed :) */
            -moz-box-shadow: none !important;
            -webkit-box-shadow: none !important;
            box-shadow: none !important;
            text-shadow: none !important;
        }

        #container {
            text-align: center;
            /* display: inline-block; */
            /* border: #BBB3AB 3px solid; */
        }

        #content {
            display: inline-block;
            border:#BBB3AB 3px solid ;
            position: relative;
            border-collapse: collapse;
        }

        .item {
            display: inline-block;
            width: 25px;
            height: 25px;
            background-color: #D3C5A8;
            /* border-bottom: 1px #BBB3AB solid; */
            /* border-right: 1px #BBB3AB solid; */
        }


        #buttonContainer {
            float: right;
            transform: translateX(-200px) translateY(-600px);
        }

        .wall {
            /*background-image: url(./wall.png);*/
            /*background-size: cover;*/
            background-color: brown;
        }

        .player {
            background-color: pink;
        }

        .end {
            background-color: blue;
        }

        /* .via {
            background-color: red;
        } */
    </style>
    <script>

        window.onload = function () {
            /*
                1.随机生成起点和终点
                2.随机生成墙壁
                3.判断迷宫是否可以通过
                    不能通过则销毁迷宫并返回第一步
                    能通过则到第四步
                4.移动方块
                5.检测到方块与终点位置重合则提示游戏结束
                6.到达规定时间则提示游戏失败
             */
            //Point:点类
            class Point{
                x
                y
            }
            //Player:操纵者类
            class Player{
                constructor(map) {
                    this.ori = map.start
                    this.destination = map.end

                    this.currentPos.x = this.ori.x
                    this.currentPos.y = this.ori.y

                    this.map = map

                    document.addEventListener("keydown",this.move.bind(this))
                    document.getElementById("autoSearch").addEventListener("click",this.showPath.bind(this))
                    document.getElementById("replay").addEventListener("click",this.replay.bind(this))
                }
                ori                     //起点
                destination             //目的地
                currentPos = new Point  //目前位置
                prePos = new Point      //上一个位置
                map                     //地图
                stack = new Stack()     //路径
                diedPath = new Stack()  //死路
                stepNum                 //自动寻路计数器

                step(ev){
                    let x = this.currentPos.x,y = this.currentPos.y;
                    if(ev.key === "w"){
                        y--
                    }else if(ev.key === "d"){
                        x++
                    }else if(ev.key === "s"){
                        y++
                    }else if(ev.key === "a"){
                        x--
                    }
                    if(x < 0 || x >= map.col || y < 0 || y >= map.row){
                        console.log("出界")
                        return false
                    }else if(this.map.path[y*this.map.col+x].classList.contains("wall")){
                        console.log("无法通过")
                        return false
                    }else{
                        this.prePos.x = this.currentPos.x
                        this.prePos.y = this.currentPos.y
                        this.currentPos.x = x
                        this.currentPos.y = y
                        return true
                    }
                }
                setStep(){
                    map.path[this.prePos.y*map.col+this.prePos.x].classList.remove("player")
                    map.path[this.currentPos.y*map.col+this.currentPos.x].classList.add("player")
                }
                move(ev){
                    if(this.step(ev)) this.setStep()
                    if(this.currentPos.x === this.destination.x && this.currentPos.y === this.destination.y)
                        alert("You Win!!!")
                }
                automove(ev){
                    this.stack.clearStack()
                    let j = 0
                    let direction = [{key:"w"},{key:"d"},{key:"s"},{key:"a"}]
                    let counter = 0,item
                    this.stack.push({x:this.currentPos.x,y:this.currentPos.y,counter:0})
                    do {
                        j++
                        if(j === 20000){
                            return false
                        }
                        if(counter === 4){
                            item = this.stack.pop()
                            this.diedPath.push({x:item.x,y:item.y})
                            if (this.stack.isEmpty()) break
                            item = this.stack.getTop()
                            this.currentPos.x = item.x
                            this.currentPos.y = item.y
                            counter = item.counter
                            counter++
                        }else if(this.step(direction[counter])){
                            if(this.stack.isInStack(this.currentPos.x,this.currentPos.y)){
                                item = this.stack.pop()
                                item.counter = counter
                                this.stack.push(item)
                                this.currentPos.x = item.x
                                this.currentPos.y= item.y
                                counter++
                            }else if(this.diedPath.isInStack(this.currentPos,this.currentPos.y)){
                                item = this.stack.pop()
                                item.counter = counter
                                this.stack.push(item)
                                this.currentPos.x = item.x
                                this.currentPos.y = item.y
                                counter++
                            } else{
                                if(this.currentPos.x === this.destination.x && this.currentPos.y === this.destination.y){
                                    this.currentPos.x = this.ori.x
                                    this.currentPos.y = this.ori.y
                                    return true
                                }
                                item = this.stack.pop()
                                item.counter = counter
                                this.stack.push(item)
                                this.stack.push({x:this.currentPos.x,y:this.currentPos.y,counter:0})
                                counter = 0
                            }
                        }else{
                            item = this.stack.pop()
                            item.counter = counter
                            this.stack.push(item)
                            counter++
                        }
                    }while(!this.stack.isEmpty())
                    this.currentPos.x = this.ori.x
                    this.currentPos.y = this.ori.y
                    return false
                }
                clearStep(x,y){
                    this.map.path[y*this.map.col+x].innerHTML = ""
                }
                markStep(x,y){
                    this.map.path[y*this.map.col+x].innerHTML = this.stepNum++
                }
                showPath(){
                    this.stepNum = 1
                    this.ori.x = this.currentPos.x
                    this.ori.y = this.currentPos.y
                    this.stack.traverseStack(this.clearStep.bind(this))
                    this.automove()
                    this.stack.traverseStack(this.markStep.bind(this))
                }
                replay(){
                    location.reload();
                }
            }
            //Map:地图类
            class Map{
                row     //行数
                col     //列数
                end = new Point     //起点
                start = new Point   //终点
                path = []           //地图数组
                walls = []          //墙壁坐标

                //获取行数和列数
                getRowAndCol(){
                    let rows = document.getElementsByTagName("tr")
                    let cols = document.getElementsByClassName("item")
                    this.row = rows.length
                    this.col = cols.length / this.row
                    this.path = cols
                }
                //设置起点和终点
                setXY(){
                    //规定起点出现在最左列,终点出现在最右列
                    this.start.x = 0
                    this.start.y = Math.round((this.row-1)*Math.random())
                    this.end.x = this.col-1
                    this.end.y = Math.round((this.row-1)*Math.random())
                    this.path[this.start.y*this.col+this.start.x].classList.add("player")
                    this.path[this.end.y*this.col+this.end.x].classList.add("end")
                }
                //设置墙壁
                setWall(){
                    //规定墙壁数量为总方块数量的1/3
                    let num = Math.round(this.row*this.col/3);
                    for(let i = 0; i < num;i++){
                        let x = Math.round((this.col-1)*Math.random())
                        let y = Math.round((this.row-1)*Math.random())
                        if(x===this.start.x&&y===this.start.y || x===this.end.x&&y===this.end.y){
                            i--
                        }else if(this.path[y*this.col+x].classList.contains("wall")){
                            i--
                        }else{
                            this.path[y*this.col+x].classList.add("wall")
                            this.walls[this.walls.length] = {x:x,y:y}
                        }
                    }
                }
                //清空地图
                clearMap(){
                    //清除起点和终点
                    if(this.walls.length === 0) return
                    this.path[this.start.y*this.col+this.start.x].classList.remove("player")
                    this.path[this.end.y*this.col+this.end.y].classList.remove("end")
                    while(this.walls.length !== 0){
                        let item = this.walls.pop()
                        this.path[item.y*this.col+item.x].classList.remove("wall")
                    }
                }
                //初始化地图
                iniMap(){
                    this.getRowAndCol()
                    this.setXY()
                    this.setWall()
                }
            }
            //栈类
            class Stack{

                array = []

                pop(){
                    if (this.array.length === 0)
                        return false
                    return this.array.pop()
                }

                push(item){
                    this.array[this.array.length] = item
                }

                isEmpty(){
                    return this.array.length === 0
                }

                getTop(){
                    if(this.array.length === 0)
                        return false
                    return this.array[this.array.length-1]
                }

                isInStack(x,y){
                    for (let i = 0;i < this.array.length;i++){
                        if(x === this.array[i].x && y === this.array[i].y)
                            return true
                    }
                    return false
                }

                clearStack(){
                    this.array = []
                }

                reverStack(){
                    this.array.reverse()
                }

                traverseStack(visit){
                    for (let i = 0;i < this.array.length;i++){
                        let item = this.array[i]
                        visit(item.x,item.y);
                    }
                }
            }
            //入栈元素
            class Item{
                x
                y
                counter
            }


            let map = new Map()
            map.iniMap()
            let player = new Player(map)
            if (!player.automove())
                location.reload();

        }
    </script>
</head>
<body>
<div id="container">
    <table id="content">
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>
        <tr><td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td>
            <td class="item"></td></tr>

    </table>
    <br>
    <div id="buttonContainer">
        <button class="button" id="autoSearch">自动寻路</button>
        <button class="button" id="replay">重玩</button>
    </div>

</div>

<div class="waifu">
        <canvas id="live2d" width="280" height="250" class="live2d"></canvas>
    </div>
        
    <script src="assets/waifu-tips.js"></script>
    <script src="assets/live2d.js"></script>
    <script type="text/javascript">initModel("assets/")</script>
</body>
</html>